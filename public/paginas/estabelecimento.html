<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;1,300&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../estilos/estabelecimento.css">
    <title>LocalTop</title>
</head>

<body style="background-color: #F7EFE6; display: flex; flex-direction: column;">
    <header>
        <a href="/" class="logoLink">
            <img src="../imagens/logo/SVG Variações/Branco/Horizontal-Branco-changed.svg" alt="Logo LocalTop"
                class="logo">
        </a>
        <nav class="servicos">
            <a href="/" class="encontrar">Encontrar <p>LocalTop</p></a>
            <a href="/">Divulgar Serviço</a>
            <a href="/#sobre">Sobre Nós</a>
        </nav>
        <nav class="infos">
            <h3 id="nomeUsu">Nome Usuário </h3>
            <div class="usuario">
                <button class="dropdownUsuario" id="BtnDropdown" onclick="dropdown()">
                    <img src="../imagens/SVGs/perfil.svg" alt="Minha Conta" class="conta">
                </button>
                <div class="dropdown-content">
                    <a href="/perfil">Meu Perfil</a>
                    <button id="logoutBtn">Sair</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="container my-5">
        <button> Voltar </button>
        <div class="row" style="box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);">
            <!-- Carrossel -->
            <div class="col-md-6 mb-4" style="display: flex; align-items: center; ">
                <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active" data-bs-interval="10000">
                            <img src="../imagens/fachada-do-estabelecimento.jpg" class="d-block w-100 rounded"
                                alt="Fachada" style="height: 300px; object-fit: cover;">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Anterior</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Próximo</span>
                    </button>
                </div>
            </div>

            <!-- Informações -->
            <div class="col-md-6">
                <h2 class="fw-bold">Nome do Estabelecimento</h2>

                <h4 class="mt-3">Avaliações:</h4>
                <div class="rating mb-3">
                    <input type="radio" id="estrela5" name="avaliacao" value="5" />
                    <label for="estrela5" title="5 estrelas">★</label>

                    <input type="radio" id="estrela4" name="avaliacao" value="4" />
                    <label for="estrela4" title="4 estrelas">★</label>

                    <input type="radio" id="estrela3" name="avaliacao" value="3" />
                    <label for="estrela3" title="3 estrelas">★</label>

                    <input type="radio" id="estrela2" name="avaliacao" value="2" />
                    <label for="estrela2" title="2 estrelas">★</label>

                    <input type="radio" id="estrela1" name="avaliacao" value="1" />
                    <label for="estrela1" title="1 estrela">★</label>
                </div>

                <h5>Descrição:</h5>
                <p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla vitae elit libero,
                    a pharetra augue.</p>

                <h5>Tipo de serviços:</h5>
                <button class="btn btn-outline-secondary btn-sm me-2">Restaurante</button>
                <button class="btn btn-outline-secondary btn-sm">Marmitaria</button>

                <h5 class="mt-3">Contato:</h5>
                <p>(41) 99999-9999</p>

                <h5>Horário de atendimento:</h5>
                <p>Seg a Sex - 08h às 18h</p>
            </div>
        </div>

        <div id="avaliacoes">
            <h2>Avaliações:</h2>
            <!-- avaliações aparecerão aqui -->
          </div>
          
          <form id="formAvaliacao">
            <label for="nota">Nota (0-5):</label>
            <input type="number" id="nota" name="nota" min="0" max="5" required />
          
            <label for="comentario">Comentário:</label>
            <textarea id="comentario" name="comentario" required></textarea>
          
            <button type="button" onclick="console.log(document.getElementById('comentario').value)">Enviar avaliação</button>
          </form>
          
          <script src="/scripts/estabelecimento.js"></script>
          

        <script>
            const estrelas = document.querySelectorAll('input[name="avaliacao"]');
            estrelas.forEach((estrela) => {
                estrela.addEventListener('change', () => {
                    console.log('Nota selecionada:', estrela.value);
                });
            });

            /* function listarEstabelecimentos() {
            fetch('/api/estabelecimentos', {
                method: 'GET'
            })
                .then(response => response.json())
                .then(data => {
                    const tabela = document.getElementById('TabelaCorpo');
                    data.forEach(estabelecimento => {
                        const linha = document.createElement('tr');
                            linha.innerHTML = `
                            <div class="produto" >
                                <div class="imagem-container">
                                    <img src="${FotosEstabelecimento.foto}" />
                                    <button class="favorito"> ❤️ </button>
                                </div>

                                <h4>
                                    ${estabelecimento.Nome}
                                </h4>
                                <span class="avaliacao"> ★ ${Oferta.avaliacao}
                                </span>
                                <h5>
                                    ${Servico.Nome}
                                </h5>
                                <p>
                                    ${Oferta.Descricao}
                                </p>
                                <h4>
                                    ${Oferta.valor)}
                                </h4> 
                                `; 
                                tabela.appendChild(linha);
                    });
                })
        }
                                document.addEventListener('DOMContentLoaded', function () {
                                    listarUsuarios();
        })
                                */

            function dropdown() {
                const dropdown = document.querySelector(`.dropdown-content`);
                dropdown.style.display === "flex" ? dropdown.style.display = "none" : dropdown.style.display = "flex";
            };
        </script>

</body>